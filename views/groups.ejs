<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Groups</title>
  </head>
  <body>
    <a href="/contacts">contacts</a> | <a href="/groups">groups</a> | <a href="/addresses">address</a> | <a href="/profiles">profile</a>
    <h1>Groups</h1>
    <div>
    <table>
      <tr>
        <th>id</th>
        <th>name_of_group</th>
        <th>Contact Assigned</th>
        <th>Action</th>
      </tr>
      <!-- tampilkan semua data contacts -->
      <% rows.forEach (group => { %>
        <tr>
          <td><%= group.id %></td>
          <td><%= group.name_of_group %></td>
          <td>
            <% let result = [] %>
            <% for(let i = 0; i<cg.length; i++){ if(cg[i].id_groups == group.id){ result.push(cg[i].name) } } %>
            <%= result.join(', ') %>
          </td>
          <td><a href="/groups/assign_contacts/<%= group.id %>">assign</a> | <a href="/groups/unassign_contacts/<%= group.id %>">unassign</a>  | <a href="/groups/edit/<%= group.id %>">edit</a> | <a href="/groups/delete/<%= group.id %>">delete</a> </td>
        </tr>
      <% }) %>
      
    </table>
  </div>
  
  <!-- disini tambah form untuk tambah contacts -->
  <div>
    <h2>Tambah Groups</h2>
    <form class="" action="" method="post">
      name_of_group:   <input type="text" name="name_of_group" value="" placeholder="name_of_group"><br>
      <input type="submit" name="" value="KIRIM">
    </form>
  </div>
  
  </body>
</html>

